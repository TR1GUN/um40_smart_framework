# UM40 SMART Framework

Здесь расположен фреймворк для работы с модулями UM-40 SMART.

## :speak_no_evil: Как это работает 

С помощью этого фреймворка можно отправлять JSON в нужный модуль


# :hear_no_evil: Как это запускать :


# Зависимости :
- Для Работы с фреймворком в корне проекта обязательно должен быть файл `settings.ini`


- API для Docker
	- Команда чтоб установить :
	```bash
	pip install docker
	```
- Библиотека для работы по SSH 
	- Команда чтоб установить :
	```bash
	pip install paramiko
	```
- Библиотека для работы с Virtual Box.

	- Команда чтоб установить питоновскую библиотеку :
	```bash
	pip install virtualbox
	```
	
	- Так же для работы этой библиотеки необходимо установить SDK VirtualBox [Ссылка на скачивание SDK](https://download.virtualbox.org/virtualbox/6.1.18/VirtualBoxSDK-6.1.18-142142.zip) . Подробнее описанно в [инструцкции](https://pypi.org/project/virtualbox/)
	


# Способы связи с компонентом
Данные тесты можно запускать с параметрами в зависимости от того, где находится дистрибутив с установленым нужным компонетом, тест которого проводится

**Поддержанные способы связи:**

- Запуск через локально запущенный docker контейнер 
- Запуск через гостевую сессию виртуальной машины VirtualBox
- Запуск с помощью соединения по TCP\IP
- Запуск с помощью соединения по SSH
- Запуск внутри linux-системы

### Запуск через запущенный docker контейнер
- Для этого способа необходимо **локально** запустить docker контейнер в котором установлен нужный тестируемый.
- Для работы с этим способом необходима установка модуля API для Docker(Команда указана в разделе Зависимости)
- Скрипт подключится через Docker exec в **первый** запущенный контейнер - и будет взаимодействовать с ним

### Запуск через гостевую виртуальную машину VirtualBox
- Для этого необходимо установить SDK Virtual Box, а после установить необходимую библиотеку
- Прописать в настройках нужные параметры (Указано выше)
- Установить гостевые дополнения в виртуальную машину


### Запуск через SSH
- Необходимо установить нужную библиотеку
- Прописать в настройках нужные параметры (Указано выше)
- Установить сервер SSH и в настройках (`sudo vi /etc/ssh/sshd_config`) прописать доступ по логину-паролю локальной учетной записи
   - Пока используется только стандартный порт : 22

### Запуск через TCP\IP
- Для этого способа надо :
	- Правильно прописать настройки для нашего дистрибутива , где находится компонент в файле `settings.ini`:
		- IP адрес в графе `apiaddr`
		- порт  в графе `apiport` нашего дистрибутива , где находится компонент

	- Прописать нужный компонент в параметрах утилиты inetd самого дистрибутива

### Запуск внутри linux-системы

PS - В этой версии тестов 100% рабочий только способ конекта через локальный Docker-контейнер


